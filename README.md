# 封禁检查插件 (Ban Checker)

AstrBot 插件 - 查询 GTA Online 玩家的 BattlEye 封禁状态

## 功能

- 查询 GTA Online 玩家的 BattlEye 封禁状态
- 支持通过用户名或 RID 查询
- 自动缓存 RID 信息，提高查询效率
- 支持强制重新查询（不使用缓存）

## 命令

- `/查封禁 <用户名/RID>` - 查询封禁状态（使用缓存）
- `/查封禁强制 <用户名/RID>` - 强制重新查询（不使用缓存）
- `/清空缓存` - 清空RID缓存（仅管理员）
- `/缓存状态` - 查看当前缓存状态
- `/封禁帮助` - 显示帮助信息

## 命令别名

- `/查封禁` 的别名：`封禁查询`、`bancheck`、`checkban`
- `/查封禁强制` 的别名：`强制查封禁`、`forcebancheck`
- `/缓存状态` 的别名：`查看缓存`
- `/封禁帮助` 的别名：`banhelp`、`封禁插件帮助`

## 使用方法

### 查询封禁状态

```
/查封禁 oakboat
/查封禁 123456789
```

### 强制重新查询（不使用缓存）

```
/查封禁强制 oakboat
```

### 查看缓存状态

```
/缓存状态
```

### 清空缓存（仅管理员）

```
/清空缓存
```

## 工作原理

1. 插件首先检查缓存中是否有该用户的 RID
2. 如果缓存未命中，会通过 sc-cache.com API 获取用户的 RID
3. 使用获取到的 RID 查询 BattlEye 封禁服务器
4. 返回封禁状态信息

## 依赖

- `requests` - 用于 HTTP 请求

## 安装

1. 将插件文件夹放置到 AstrBot 的 `data/plugins/` 目录下
2. AstrBot 会自动安装依赖并加载插件

## 注意事项

- RID 缓存是永久性的，不会自动过期
- 如果查询失败，可能是用户名不存在或网络问题
- 管理员可以使用 `/清空缓存` 命令清空所有缓存

## 支持

[帮助文档](https://astrbot.app)
